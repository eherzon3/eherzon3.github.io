<!-- about 70% of this was writen by Luke Skutt -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito Sans">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="icon" type="image/x-icon" href="https://i.ibb.co/4twY19g/image-1.png">
<title>FixRacket | Modded Racket Client</title>
<div id="chat">
  <form id="chatForm">
    <input id="message" name="Message" placeholder="Type here..." autocomplete="on" maxlength="400">
    <div id="replybar" name="replybar">Replying to "har har har placeholder har har har"</div>
    <input id="serverName" name="Server" value="Racket" hidden>
    <input id="chatUsername" name="Username" value="" hidden>
  </form>
</div>
<div class="sidebar">
  <div class="material-icons" id="dmsBTN">forum <div class="notificationIcon"></div>
  </div>
  <div class="addServer">+</div>
  <div class="material-icons" id="settingsBTN">settings</div>
</div>
<div id="serverPage">
  <div id="serverContainer">
    <div class="title">Add Server <div class="close">&times;</div>
    </div>
    <div class="btnContainer">
      <div class="selectBTN" id="joinServer">
        <div class="material-icons">group</div>
        <div class="text">Join Server</div>
      </div>
      <div style="left: 55%" class="selectBTN" id="createServer">
        <div class="material-icons">add</div>
        <div class="text">Create Server</div>
      </div>
    </div>
    <div id="createServerPage">
      <form id="serverForm">
        <div class="serverNameTitle">Custom Server Name:</div>
        <input name="serverName" id="addServerName" placeholder="Server Name...">
        <div class="serverCodeTitle">Custom Join Code:</div>
        <input name="serverCode" id="serverCode" placeholder="Server Code...">
        <div class="serverCreateBTN">&plus; Create</div>
        <input id="serverUsername" name="serverUsername" value="" hidden>
      </form>
    </div>
    <div id="joinServerPage">
      <form id="joinServerForm">
        <div class="serverNameTitle">Server Join Code:</div>
        <input name="serverName" id="joinServerName" placeholder="Join Code...">
        <div class="serverCreateBTN" id="serverJoinBTN">&plus; Join</div>
        <input id="joinServerUsername" name="joinServerUsername" value="" hidden>
      </form>
    </div>
  </div>
</div>
<div id="loginPage">
  <div id="loginContainer">
    <div class="title">Login</div>
    <form id="loginForm">
      <input id="loginUsername" placeholder="Username...">
      <input id="loginPassword" placeholder="Password..." type="password">
      <div class="loginSubmit" onclick="login()">Login</div>
    </form>
    <div class="gotoSignup" onclick="openSignup()">Don't have an account? Sign up!</div>
  </div>
</div>
<div id="signupPage">
  <div id="signupContainer">
    <div class="title">Sign-up</div>
    <form id="signupForm">
      <input name="loginUsername" id="signupUsername" placeholder="Username...">
      <input name="loginPassword" id="signupPassword" placeholder="Password..." type="password">
      <div class="signupSubmit" onclick="signup()">Signup</div>
    </form>
    <div class="gotoSignup" onclick="openLogin()">Already have an account? Log in!</div>
  </div>
</div>
<div id="alert" onclick="closeAlert()">Invalid username or password!</div>
<div id="errorPage">
  <div id="errorPageCode"></div>
  <div id="errorPageText"></div>
  <div class="retryBTN" onclick="location.reload()">Retry</div>
</div>
<div id="serverNameElement"></div>
<div class="material-icons" id="memberListBTN">menu</div>
<div id="memberList">
  <div id="memberListTitle"></div>
</div>
<div id="memberListBox"></div>
<div id="dmsPage">
  <div class="userTitle">Direct Messages</div>
  <input id="userSearch" placeholder="Search users..." tabindex="-1">
  <div id="dmContainer"></div>
</div>
</div>
</div>
<div id="dmChat">
  <form id="dmForm">
    <input id="dmMessage" name="Message" placeholder="Type here..." autocomplete="off">
    <input id="dmName" name="DMTitle" value="" hidden>
    <input id="dmUsername" name="Username" value="" hidden>
  </form>
</div>
<form id="logForm" hidden>
<input id="uuid" name="UUID">
  <input id="uuid" name="UUID">
  <input id="logAccount" name="Account">
</form>
<div id="settingsPage">
  <div id="modeToggle">
    <div id="selected"></div>
    <div class="option active" id="darkOption">No Notifications</div>
    <div class="option" id="lightOption">Notifications</div>
  </div>
  <div class="settingsOptions">
    <div id="settingsUsername"></div>
    <div class="option settingsOptionActive">Appearance</div>
    <div class="option">Change Log</div>
    <div class="option">Report a Bug</div>
    <div class="option">Extra</div>
    <div id="signoutBTN">Log Out</div>
  </div>
  <div id="settingsContainer">
    <div id="AppearanceContainer" class="pageContainer" style="display: block;">
      <div class="container">
        <div class="title" style="top: 3%;">Choose Server Icon Color</div>
        <div id="range" class="serverColorRange">
          <div id="rangeDot" class="serverColorRangeDot"></div>
        </div>
      </div>
      <div class="container">
        <div class="title" style="top: 3%;">Choose Profile Icon Color</div>
        <div id="range" class="profileColorRange">
          <div id="rangeDot" class="profileColorRangeDot"></div>
          <form id="profileColorForm">
            <input name="username" id="profileColorUsername" hidden>
            <input name="profileColor" id="profileColorColor" hidden>
          </form>
        </div>
      </div>
      <button type="button" onclick="pfpfun()">New Profile Picture</button>
      <div class="container">
        <div class="pfpBtn" >Enable Christmas Theme</div>
        <div id="switch" onclick="toggleSwitch(this)" class="christmasToggle">
          <div id="toggle"></div>
        </div>
      </div>
    </div>
    <div id="ReportaBugContainer" class="pageContainer">
      <form id="bugForm">
        <div class="bugInputContainer">
          <input id="bugUsername" name="username" hidden>
          <textarea id="bugInput" name="report" placeholder="Type here..."></textarea>
          <div id="bugReportBTN">Send</div>
        </div>
      </form>
    </div>
    <div id="ChangeLogContainer" class="pageContainer">
      <div class="changeContainer">
        <div class="title">01/21/24</div>
        <div class="desc">Changed some of the css to make it look nicer AND I ALSO ADDED VIDEOS RAHHHHHHH</div>
      </div>
    </div>
  </div>
  <script src="https://cdn.ably.com/lib/ably.min-1.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Nunito Sans";
      display: flex;
      align-items: center;
      justify-content: center;
      background-image: url(https://i.ibb.co/Hqj3ZDz/Screenshot-2024-04-16-7-52-43-AM.png);
      background-size: 100% 100%;
      background-color: #292929;
      opacity: 0;
      overflow: hidden;
    }

    .sidebar::-webkit-scrollbar {
      display: none;
    }

    ::selection {
      color: #1e1e1e;
      background-color: #4683d1ff;
    }

    #dmChat,
    #chat {
      width: 92%;
      height: 100%;

      background-image: url(https://i.ibb.co/Hqj3ZDz/Screenshot-2024-04-16-7-52-43-AM.png);
      background-size: 100% 100%;
      background-color: #292929;
      position: absolute;
      right: 0;
      overflow-y: auto;
      padding-bottom: 8vw;
      padding-top: 3vw;
      z-index: 0;
    }

    #dmChat {
      display: none;
      z-index: 5;
    }

    #dmChat #dmMessage,
    #chat #message {
      border-radius: 100px;
      width: 90%;
      outline: none;
      border: none;
      border-top: .15vw solid #0c0c0c;
      background-color: #1e1e1e;
      padding: .5vw;
      font-size: 1.5vw;
      color: #fff;
      position: fixed;
      bottom: .1%;
      right: 1%;
      user-select: none;
      z-index: 2;
    }
    #dmChat #replybar,
    #chat #replybar {
      border-radius: 50px 50px 50px 50px;
      display: none;
      width: 45%;
      outline: none;
      border: none;
      border-top: .15vw solid #0c0c0c;
      background-color: #1e1e1e;
      padding: .5vw;
      font-size: 1.5vw;
      color: #4683d1ff;
      position: fixed;
      bottom: 35px;
      left: 50%;
      user-select: none;
      z-index: 2;
    }

    #dmChat .message,
    #chat .message {
      padding: 1vw;
      width: max-content;
      max-width: 100%;
      border-radius: 0% 10% 10% 0%;
      background-color: #292929;
      opacity: 100%;
      box-sizing: border-box;
      transition: .5s;
      position: relative;
    }

    #dmChat .lastmessage,
    #chat .lastmessage {
     width: max-content;
      max-width: 100%;
      border-radius: 0% 10% 10% 0%;
      background-color: #292929;
      opacity: 100%;
      padding: .1vw;
      box-sizing: border-box;
      transition: .5s;
      position: relative;
    }

    #dmChat .message .header,
    #chat .message .header,
    #chat .lastmessage .header {
      display: flex;
      align-items: center;
    }

    #dmChat .message #icon,
    #chat .message #icon {
      width: 3vw;
      height: 3vw;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #e1e1e1;
      border-radius: 50%;
      font-weight: bold;
      user-select: none;
      box-shadow: 0 .15vw .5vw #1e1e1e;
      background-size: cover;
      background-position: center;
    }
    #chat .message #icon:hover {
      transition: transform .2s;
      transform: scale(1.2);
      border-radius: 5%;
    }

    #dmChat .message #verified,
    #dmChat .message #username,
    #chat .message #verified,
    #chat .message #username,
    #chat .lastmessage #verified,
    #chat .lastmessage #username {
      color: #e1e1e1;
      display: inline-flex;
      padding: .25vw;
      font-size: 1.5vw;
      box-sizing: border-box;
      font-weight: bold;
      align-items: center;
      padding-left: 1vw;
      user-select: none;
    }

    #dmChat .message #verified,
    #chat .message #verified {
      padding-left: .25vw;
      color: #4683d1ff;
    }
    #dmChat .message #reply,
    #chat .message #reply,
    #chat .lastmessage #reply {
      display: flex;
      opacity:0;
      padding: .25vw;
      font-size: 3vw;
      box-sizing: border-box;
      align-items: center;
      user-select: none;
      
      position:absolute;
      bottom:0;
      right:0;
      color: #4683d1ff;
    }
    #dmChat .message:hover #reply,
    #chat .message:hover #reply,
    #chat .lastmessage:hover #reply {
      opacity:1;
    }
    #dmChat .message #messageText,
    #chat .message #messageText {
      color: #e1e1e1;
      font-size: 1.5vw;
      padding-left: 4vw;
      overflow-wrap: break-word;
    }
    
    #chat .lastmessage #messageText {
      color: #e1e1e1;
      font-size: 1.5vw;
      padding-left: 4.85vw;
      overflow-wrap: break-word;
    }

    #dmChat .message #timestamp,
    #chat .message #timestamp,
    #chat .lastmessage #timestamp {
      position: absolute;
      top: 0;
      right: 0;
      padding: 1vw;
      color: #999999;
      font-size: 1vw;
      font-weight: bold;
      display: none;
      user-select: none;
    }
    #chat .message #replyele {
      order: 1;
      color: #999999;
      font-size: 1vw;
      font-weight: bold;
      user-select: none;
    }

    #dmChat .message:hover #timestamp,
    #chat .message:hover #timestamp,
    #chat .lastmessage:hover #timestamp {
      display: block;
    }

    .sidebar {
      border-radius: 0px 0px 0px 0px;
      background-color: #000000;
      width: 8%;
      height: 85%;
      position: absolute;
      top: 0;
      left: 0;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .sidebar #dmsBTN,
    .sidebar .addServer,
    .sidebar .server {
      color: #e1e1e1;
      font-weight: bold;
      font-size: 2vw;
      width: 5vw;
      height: 5vw;
      margin-left: 1.5vw;
      margin-top: 1.5vw;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      cursor: pointer;
      position: relative;
      background-color: #4683d1ff;
    }

    .sidebar .server:hover {
      transition: transform .2s;
      transform: scale(1.2);
    }

    .sidebar #settingsBTN {
      border-radius: 0px 0px 20px 0px;
      width: 8%;
      height: 15%;
      padding: 2vw;
      box-sizing: border-box;
      color: #777;
      font-size: 4vw;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #000000;
      position: fixed;
      bottom: 0;
      left: 0;
      user-select: none;
      cursor: pointer;
      transition: .5s;
    }

    .sidebar #settingsBTN:hover {
      color: #999;
    }

    .sidebar #dmsBTN,
    .sidebar .addServer {
      background-color: #1e1e1e;
      box-shadow: 0 .15vw .5vw #0c0c0c;
      font-size: 3vw;
      transition: .3s;
    }

    .sidebar #dmsBTN:hover,
    .sidebar .addServer:hover {
      color: #4683d1ff;
    }

    #serverPage {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: rgba(2, 2, 2, .5);
      display: flex;
      align-items: center;
      justify-content: center;
      display: none;
      opacity: 0;
      transition: .5s;
      z-index: 3;
    }

    #serverPage #serverContainer {
      height: 0%;
      width: 0%;
      background-color: #292929;
      border-radius: 1vw;
      border: .25vw solid #1e1e1e;
      padding: 1vw;
      box-sizing: border-box;
      box-shadow: 0 .25vw .5vw #0c0c0c;
      position: relative;
      user-select: none;
      transition: .3s;
      overflow: hidden;
    }

    #serverPage #serverContainer .title {
      color: #e1e1e1;
      font-size: 3vw;
      font-weight: bold;
      display: flex;
      align-items: center;
      position: relative;
      height: 10%;
      transition: .5s;
      opacity: 0;
    }

    #serverPage #serverContainer .title .close {
      position: absolute;
      right: 1vw;
      font-size: 5vw;
      color: #b1b1b1;
      transition: .3s;
    }

    #serverPage #serverContainer .title .close:hover {
      color: #e1e1e1;
      cursor: pointer;
    }

    #serverPage #serverContainer .btnContainer {
      width: 100%;
      height: 90%;
      position: relative;
      transition: .5s;
      opacity: 0;
    }

    #serverPage #serverContainer .btnContainer .selectBTN {
      width: 35%;
      height: 55%;
      background-color: #1e1e1e;
      border-radius: 1vw;
      border: .25vw solid #513f6c;
      position: absolute;
      top: 22.5%;
      left: 10%;
      color: #e1e1e1;
      transition: .5s;
      cursor: pointer;
      text-align: center;
    }

    #serverPage #serverContainer .btnContainer .selectBTN:hover {
      border: .25vw solid #4683d1ff;
      box-shadow: 0 .25vw .5vw #1e1e1e;
    }

    #serverPage #serverContainer .btnContainer .selectBTN .material-icons {
      width: 100%;
      height: 50%;
      position: absolute;
      top: 10%;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 8vw;
    }

    #serverPage #serverContainer .btnContainer .selectBTN .text {
      width: 100%;
      height: 50%;
      position: absolute;
      bottom: 10%;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3vw;
      font-weight: 1000;
    }

    #serverPage #serverContainer #createServerPage {
      width: 100%;
      height: 80%;
      position: absolute;
      transition: .5s;
      background-color: #292929;
      bottom: 0;
      right: -100%;
    }

    #serverPage #serverContainer #createServerPage #serverCode,
    #serverPage #serverContainer #joinServerName,
    #serverPage #serverContainer #createServerPage #addServerName {
      width: 75%;
      background-color: #1e1e1e;
      color: #e1e1e1;
      padding: 1vw;
      font-size: 2vw;
      border-radius: 1vw;
      border: .15vw solid #513f6c;
      outline: none;
      transition: .5s;
      position: absolute;
      left: 12.5%;
      top: 10%;
      box-sizing: border-box;
    }

    #serverPage #serverContainer #createServerPage #serverCode:hover,
    #serverPage #serverContainer #createServerPage #serverCode:focus,
    #serverPage #serverContainer #joinServerName:hover,
    #serverPage #serverContainer #joinServerName:focus,
    #serverPage #serverContainer #createServerPage #addServerName:hover,
    #serverPage #serverContainer #createServerPage #addServerName:focus {
      border: .15vw solid #4683d1ff;
      box-shadow: 0 .05vw .5vw #0c0c0c;
    }

    ::placeholder {
      color: #b3b3b3;
    }

    #serverPage #serverContainer #createServerPage .serverCodeTitle,
    #serverPage #serverContainer #createServerPage .serverNameTitle {
      color: #fff;
      font-size: 2vw;
      position: absolute;
      left: 12.5%;
      top: -1%;
    }

    #serverPage #serverContainer #createServerPage .serverCodeTitle {
      top: 35%;
    }

    #serverPage #serverContainer #createServerPage #serverCode {
      top: 46%;
    }

    #serverPage #serverContainer #createServerPage .serverCreateBTN {
      width: 75%;
      position: absolute;
      left: 12.5%;
      top: 75%;
      padding: 1vw;
      background-color: #4683d1ff;
      filter: brightness(85%);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      font-size: 2vw;
      border-radius: 1vw;
      font-weight: 1000;
      transition: .5s;
      cursor: pointer;
    }

    #serverPage #serverContainer #createServerPage .serverCreateBTN:hover {
      filter: brightness(100%);
      box-shadow: 0 .15vw .5vw #1e1e1e;
    }

    #serverPage #serverContainer #joinServerPage {
      width: 100%;
      height: 80%;
      position: absolute;
      transition: .5s;
      background-color: #292929;
      bottom: 0;
      left: -100%;
    }

    #serverPage #serverContainer #joinServerPage #serverCode,
    #serverPage #serverContainer #joinServerPage #addServerName {
      width: 75%;
      background-color: #1e1e1e;
      color: #e1e1e1;
      padding: 1vw;
      font-size: 2vw;
      border-radius: 1vw;
      border: .15vw solid #513f6c;
      outline: none;
      transition: .5s;
      position: absolute;
      left: 12.5%;
      top: 10%;
      box-sizing: border-box;
    }

    #serverPage #serverContainer #joinServerPage #serverCode:hover,
    #serverPage #serverContainer #joinServerPage #serverCode:focus,
    #serverPage #serverContainer #joinServerPage #addServerName:hover,
    #serverPage #serverContainer #joinServerPage #addServerName:focus {
      border: .15vw solid #4683d1ff;
      box-shadow: 0 .05vw .5vw #0c0c0c;
    }

    ::placeholder {
      color: #b3b3b3;
    }

    #serverPage #serverContainer #joinServerPage .serverCodeTitle,
    #serverPage #serverContainer #joinServerPage .serverNameTitle {
      color: #fff;
      font-size: 2vw;
      position: absolute;
      left: 12.5%;
      top: -1%;
    }

    #serverPage #serverContainer #joinServerPage .serverCodeTitle {
      top: 35%;
    }

    #serverPage #serverContainer #joinServerPage #serverCode {
      top: 46%;
    }

    #serverPage #serverContainer #joinServerPage .serverCreateBTN {
      width: 75%;
      position: absolute;
      left: 12.5%;
      top: 75%;
      padding: 1vw;
      background-color: #4683d1ff;
      filter: brightness(85%);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      font-size: 2vw;
      border-radius: 1vw;
      font-weight: 1000;
      transition: .5s;
      cursor: pointer;
    }

    #serverPage #serverContainer #joinServerPage .serverCreateBTN:hover {
      filter: brightness(100%);
      box-shadow: 0 .15vw .5vw #1e1e1e;
    }

    #loginPage {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: #1e1e1e;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3;
    }

    #loginPage #loginContainer {
      background-image: url(https://i.ibb.co/Hqj3ZDz/Screenshot-2024-04-16-7-52-43-AM.png);
      background-size: 100% 100%;
      background-color: #292929;
      width: 100%;
      height: 100%;
      background-color: #292929;
      box-shadow: 0 .5vw .5vw #181818;
      border-radius: 1vw;
      position: relative;
      transition: .5s;
    }

    #loginPage #loginContainer .title {
      width: 100%;
      height: 20%;
      display: flex;
      align-items: center;
      padding: 0vw;
      box-sizing: border-box;
      color: #fff;
      font-size: 8vw;
      font-weight: bold;
      user-select: none;
      justify-content: center;
    }

    #loginPage #loginContainer .gotoSignup {
      color: #4683d1ff;
      font-weight: bold;
      width: 100%;
      position: absolute;
      bottom: 0;
      height: 15%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5vw;
      cursor: pointer;
      user-select: none;
    }

    #loginPage #loginContainer .gotoSignup:after {
      content: "";
      position: absolute;
      bottom: 25%;
      background-color: #4683d1ff;
      width: 0%;
      height: .25vw;
      transition: .5s;
    }

    #loginPage #loginContainer .gotoSignup:hover:after {
      width: 35%;
    }

    #loginPage #loginContainer .loginSubmit,
    #loginPage #loginContainer #loginPassword,
    #loginPage #loginContainer #loginUsername {
      width: 65%;
      padding: 2vw;
      font-size: 2vw;
      background-color: #666666ff;
      color: #e1e1e1;
      border-radius: 1vw;
      position: absolute;
      left: 17.5%;
      border: .15vw solid #1e1e1e;
      outline: none;
      transition: .5s;
    }

    #loginPage #loginContainer #loginPassword:hover,
    #loginPage #loginContainer #loginUsername:hover {
      border: .15vw solid #121212;
    }

    #loginPage #loginContainer #loginPassword:focus,
    #loginPage #loginContainer #loginUsername:focus {
      border: .15vw solid #4683d1ff;
      box-shadow: 0 0 .20vw #aa76eb;
    }

    #loginPage #loginContainer #loginPassword {
      top: 45%;
    }

    #loginPage #loginContainer .loginSubmit {
      top: 70%;
      text-align: center;
      box-sizing: border-box;
      background-color: #4683d1ff;
      font-size: 2.5vw;
      font-weight: 1000;
      padding: 1vw;
      user-select: none;
      cursor: pointer;
      filter: brightness(75%);
    }

    #loginPage #loginContainer .loginSubmit.active {
      filter: brightness(100%);
    }

    #loginPage #loginContainer .loginSubmit.active:hover {
      filter: brightness(125%);
    }

    #signupPage {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: #1e1e1e;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3;
      display: none;
    }

    #signupPage #signupContainer {
      background-image: url(https://i.ibb.co/Hqj3ZDz/Screenshot-2024-04-16-7-52-43-AM.png);
      background-size: 100% 100%;
      background-color: #292929;
      width: 100%;
      height: 100%;
      background-color: #292929;
      box-shadow: 0 .5vw .5vw #181818;
      border-radius: 1vw;
      position: relative;
      transition: .5s;
      transform: translate(0, -2vw);
      opacity: 0;
    }

    #signupPage #signupContainer .title {
      width: 100%;
      height: 20%;
      display: flex;
      align-items: center;
      padding: 2vw;
      box-sizing: border-box;
      color: #fff;
      font-size: 3.5vw;
      font-weight: bold;
      user-select: none;
      justify-content: center;
    }

    #signupPage #signupContainer .gotoSignup {
      color: #4683d1ff;
      font-weight: bold;
      width: 100%;
      position: absolute;
      bottom: 0;
      height: 15%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5vw;
      cursor: pointer;
      user-select: none;
    }

    #signupPage #signupContainer .gotoSignup:after {
      content: "";
      position: absolute;
      bottom: 25%;
      background-color: #4683d1ff;
      width: 0%;
      height: .25vw;
      transition: .5s;
    }

    #signupPage #signupContainer .gotoSignup:hover:after {
      width: 35%;
    }

    #signupPage #signupContainer .signupSubmit,
    #signupPage #signupContainer #signupPassword,
    #signupPage #signupContainer #signupUsername {
      width: 65%;
      padding: 2vw;
      font-size: 2vw;
      background-color: #666666ff;
      color: #e1e1e1;
      border-radius: 1vw;
      position: absolute;
      left: 17.5%;
      border: .15vw solid #1e1e1e;
      outline: none;
      transition: .5s;
    }

    #signupPage #signupContainer .signupSubmit.active {
      filter: brightness(100%);
    }

    #signupPage #signupContainer #signupPassword:hover,
    #signupPage #signupContainer #signupUsername:hover {
      border: .15vw solid #121212;
    }

    #signupPage #signupContainer #signupPassword:focus,
    #signupPage #signupContainer #signupUsername:focus {
      border: .15vw solid #4683d1ff;
      box-shadow: 0 0 .20vw #aa76eb;
    }

    #signupPage #signupContainer #signupPassword {
      top: 45%;
    }

    #signupPage #signupContainer .signupSubmit {
      top: 70%;
      text-align: center;
      box-sizing: border-box;
      background-color: #4683d1ff;
      font-size: 2.5vw;
      font-weight: 1000;
      padding: 1vw;
      user-select: none;
      cursor: pointer;
      filter: brightness(75%);
    }

    #signupPage #signupContainer .signupSubmit.active:hover {
      filter: brightness(125%);
    }

    #alert {
      width: 65%;
      padding: .5vw;
      font-size: 1.5vw;
      background-color: #191919;
      border-radius: .5vw;
      box-shadow: 0 .25vw .5vw #0c0c0c;
      position: absolute;
      top: -8%;
      left: 17vw;
      color: tomato;
      cursor: pointer;
      transition: .5s;
      text-align: center;
      z-index: 999;
    }

    #alert:hover {
      filter: brightness(125%);
    }

    #errorPage {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: #1d1d1d;
      user-select: none;
      z-index: 999;
      display: none;
    }

    #errorPageCode {
      display: flex;
      align-items: end;
      justify-content: center;
      width: 100%;
      height: 50%;
      padding: 1vw;
      box-sizing: border-box;
      color: #e1e1e1;
      font-size: 13vw;
      font-family: sans-serif;
      font-weight: 1000;
      position: absolute;
      top: 0;
      left: 0;
    }

    #errorPageText {
      display: flex;
      align-items: start;
      justify-content: center;
      width: 80%;
      height: 50%;
      padding: 1vw;
      box-sizing: border-box;
      color: #e1e1e1;
      font-size: 3vw;
      position: absolute;
      bottom: 0;
      left: 10%;
      text-align: center;
    }

    .retryBTN {
      color: #fff;
      font-size: 3vw;
      width: 15%;
      padding: 1vw;
      position: absolute;
      left: 41.5%;
      height: 7%;
      display: flex;
      align-items: center;
      justify-content: center;
      bottom: 10%;
      border: .25vw solid #4683d1ff;
      cursor: pointer;
    }

    #serverNameElement {
      padding-right: 1vw;
      padding-left: 1vw;
      background-color: #121212;
      box-shadow: 0 .15vw .5vw #0c0c0c;
      font-size: 2vw;
      color: #e1e1e1;
      position: absolute;
      left: 9%;
      top: 0;
      border-radius: 1vw;
      height: 5vw;
      display: none;
      align-items: center;
      justify-content: center;
      user-select: none;
      z-index: 99;
    }

    #memberListBTN {
      width: 5vw;
      height: 5vw;
      background-color: #121212;
      box-shadow: 0 .15vw .5vw #0c0c0c;
      border-radius: 50%;
      color: #e1e1e1;
      font-size: 3vw;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 1vw;
      right: 1vw;
      user-select: none;
      cursor: pointer;
      transition: .5s;
      z-index: 1;
    }

    #memberListBTN:hover {
      filter: brightness(115%);
    }

    #memberList {
      height: 100%;
      width: 25%;
      background-color: #1e1e1e;
      position: absolute;
      top: 0;
      right: -25%;
      transition: .5s;
      box-shadow: 0 .15vw 5vw #0c0c0c;
      overflow-y: auto;
      z-index: 2;
    }

    #memberListBox {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      display: none;
      opacity: .5;
      background-color: #121212;
      cursor: pointer;
    }

    #memberList #memberListTitle {
      width: 100%;
      font-size: 2vw;
      color: #fff;
      font-weight: bold;
      text-align: center;
      padding: 1vw;
      box-sizing: border-box;
      user-select: none;
      box-shadow: 0 1vw 3vw #1e1e1e;
      position: sticky;
      top: 0;
      background-color: #1e1e1e;
    }

    #memberList .member {
      width: 100%;
      padding: .5vw;
      box-sizing: border-box;
      text-align: center;
    }

    #memberList .member #memberIcon {
      width: 3vw;
      height: 3vw;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #e1e1e1;
      font-weight: bold;
      box-shadow: 0 .15vw .5vw #0c0c0c;
      user-select: none;
      font-size: 1.5vw;
    }

    #memberList .member #memberName {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #e1e1e1;
      height: 5vw;
      padding-left: 1vw;
      font-size: 1.5vw;
      user-select: none;
    }

    #dmsPage {
      position: absolute;
      top: 0;
      width: 92%;
      height: 100%;
      right: -100%;
      background-color: #292929;
      transition: .5s;
      z-index: 4;
      display: none;
    }

    #dmsPage #userSearch {
      width: 75%;
      background-color: #1e1e1e;
      box-shadow: 0 .15vw .5vw #0c0c0c;
      position: absolute;
      top: 10%;
      left: 12.5%;
      padding: 1vw;
      box-sizing: border-box;
      border-radius: 5vw;
      color: #fff;
      border: none;
      outline: none;
      font-size: 2vw;
      height: 8%;
      padding-left: 3vw;
      padding-right: 3vw;
      transition: .5s;
    }

    #dmsPage #userSearch:hover,
    #dmsPage #userSearch:focus {
      filter: brightness(110%);
    }

    #dmsPage .userTitle {
      color: #e1e1e1;
      font-size: 3vw;
      font-weight: 1000;
      position: absolute;
      width: 75%;
      top: 2%;
      left: 12.5%;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      height: 8%;
    }

    .notificationIcon {
      width: 1.5vw;
      height: 1.5vw;
      background-color: #4683d1ff;
      position: absolute;
      bottom: 0;
      right: 0;
      border: .5vw solid #0c0c0c;
      border-radius: 50%;
      display: none;
    }

    #dmsPage #dmContainer {
      position: absolute;
      top: 20%;
      right: 0;
      width: 100%;
      height: 80%;
      overflow-y: auto;
    }

    #dmsPage .dmMessage {
      width: 75%;
      background-color: #1e1e1e;
      height: 10%;
      margin-left: 12.5%;
      padding: 1vw;
      box-sizing: border-box;
      border-radius: 55vw;
      display: flex;
      align-items: center;
      padding-left: 3vw;
      position: relative;
      margin-bottom: 2vw;
    }

    #dmsPage .dmMessage #icon {
      width: 5vh;
      height: 5vh;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #e1e1e1;
      border-radius: 50%;
      font-weight: bold;
      user-select: none;
      box-shadow: 0 .15vw .5vw #1e1e1e;
      background-color: mediumseagreen;
    }

    #dmsPage .dmMessage #verified,
    #dmsPage .dmMessage #username {
      color: #e1e1e1;
      display: inline-flex;
      padding: .25vw;
      font-size: 2vw;
      box-sizing: border-box;
      font-weight: bold;
      align-items: center;
      padding-left: 1vw;
      user-select: none;
    }

    #dmsPage .dmMessage #verified {
      padding-left: .25vw;
      color: #4683d1ff;
    }

    #dmsPage .dmMessage #timestamp {
      padding: 1vw;
      color: #999;
      font-size: 2vw;
      font-weight: bold;
      user-select: none;
      position: absolute;
      right: 3%;
    }

    #settingsPage {
      background-color: #292929;
      width: 92%;
      height: 100%;
      user-select: none;
      position: absolute;
      right: 0;
      top: 0;
      z-index: 9;
      display: none;
      transform: translate(0, 3vw);
      opacity: 0;
      transition: .3s;
    }

    #settingsPage .settingsOptions {
      width: 25%;
      height: 75%;
      position: absolute;
      left: 7.5vh;
      bottom: 7.5%;
      background-color: #202020;
      border-radius: 3vw;
      padding: 1vw;
      box-sizing: border-box;
    }

    #settingsPage #modeToggle {
      position: absolute;
      top: 3%;
      left: 27.5%;
      height: 10%;
      background-color: #202020;
      width: 45%;
      border-radius: 50vw;
      padding: .5vw;
      box-sizing: border-box;
      display: flex;
      align-items: center;
    }

    #settingsPage #modeToggle #selected {
      width: 50%;
      height: 80%;
      border-radius: 50vw;
      background-color: #252525;
      position: absolute;
      transition: .5s;
      right: 0;
      left: .5vw;
    }

    #settingsPage #modeToggle .option {
      width: 49.5%;
      height: 80%;
      border-radius: 50vw;
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #a1a1a1;
      font-size: 2vw;
      transition: .5s;
      cursor: pointer;
    }

    #settingsPage #modeToggle .option#lightOption {
      right: .5vw;
    }

    #settingsPage #modeToggle .option.active {
      color: #e1e1e1;
    }

    #settingsPage .settingsOptions .option {
      width: 90%;
      height: 10%;
      font-size: 1.5vw;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #a1a1a1;
      transition: .5s;
      border-radius: 3vw;
      cursor: pointer;
      position: relative;
      left: 5%;
      margin-bottom: 1vw;
      margin-top: 1vw;
    }

    #settingsPage .settingsOptions .option:hover {
      background-color: #1c1c1c;
    }

    #settingsPage .settingsOptions .option.settingsOptionActive {
      background-color: #1c1c1c;
      filter: brightness(125%);
    }

    #settingsPage #settingsUsername {
      font-size: 1.5vw;
      color: #e1e1e1;
      font-weight: bold;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding-top: .5vw;
      padding-bottom: .5vw;
    }

    #settingsPage #settingsContainer {
      height: 75%;
      width: 65%;
      position: absolute;
      bottom: 7.5vh;
      right: 7.5vh;
      transition: .5s;
    }

    #settingsPage #settingsContainer .pageContainer {
      width: 100%;
      height: 100%;
      display: none;
    }

    #settingsPage #settingsContainer #ChangeLogContainer .changeContainer {
      width: 100%;
      height: 20%;
      position: relative;
      border-bottom: .15vw solid #444;
    }

    #settingsPage #settingsContainer #ChangeLogContainer .changeContainer:last-child {
      border: none;
    }

    #settingsPage #settingsContainer #ChangeLogContainer .changeContainer .title {
      color: #fff;
      font-weight: bold;
      position: absolute;
      top: 0;
      right: 0;
      height: 30%;
      width: 95%;
      font-size: 1.5vw;
    }

    #settingsPage #settingsContainer #ChangeLogContainer .changeContainer .desc {
      color: #c1c1c1;
      position: absolute;
      bottom: 0;
      height: 80%;
      width: 90%;
      left: 5%;
      font-size: 1.25vw;
      display: flex;
      align-items: center;
    }

    #settingsPage #settingsContainer .container {
      width: 100%;
      height: 20%;
      padding: 1vw;
      box-sizing: border-box;
      display: flex;
      align-items: center;
      position: relative;
    }

    #settingsPage #settingsContainer .container .title {
      color: #e1e1e1;
      font-size: 1.5vw;
      font-weight: bold;
      position: absolute;
      left: 10%;
    }

    #settingsPage #settingsContainer .container #switch {
      width: 10%;
      height: 45%;
      background-color: #222;
      border-radius: 100vw;
      cursor: pointer;
      transition: .5s;
      display: flex;
      align-items: center;
      position: absolute;
      right: 10%;
    }

    #settingsPage #settingsContainer .container #switch #toggle {
      background-color: #444;
      width: 35%;
      aspect-ratio: 1;
      border-radius: 50%;
      box-shadow: 0 0 .5vw #212121;
      transition: .5s;
      position: absolute;
      left: 8%;
    }

    #settingsPage .settingsOptions #signoutBTN {
      position: absolute;
      bottom: 3vw;
      left: 3vw;
      width: 17vw;
      border-radius: 50vw;
      border: .15vw solid #d13734;
      height: 10%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5vw;
      color: #d13734;
      transition: .5s;
      cursor: pointer;
    }

    #settingsPage .settingsOptions #signoutBTN:hover {
      background-color: #d13734;
      color: #202020;
    }

    #settingsPage #settingsContainer .container #range {
      width: 75%;
      height: 10%;
      background-color: #333;
      background-image: linear-gradient(to right, hsl(0, 89%, 66%), hsl(45, 89%, 66%), hsl(90, 89%, 66%), hsl(135, 89%, 66%), hsl(180, 89%, 66%), hsl(225, 89%, 66%), hsl(270, 89%, 66%), hsl(360, 89%, 66%));
      position: absolute;
      left: 12.5%;
      bottom: 45%;
      border-radius: 5vw;
      display: flex;
      align-items: center;
    }

    #settingsPage #settingsContainer .container #range #rangeDot {
      width: 3%;
      aspect-ratio: 1;
      background-color: hsl(0, 89%, 66%);
      position: absolute;
      border-radius: 50%;
      transition: .5s;
      left: 0;
    }

    #settingsPage #settingsContainer .bugInputContainer {
      height: 93%;
      width: 65%;
      position: absolute;
      left: 17.5%;
      background-color: #222;
      border-radius: 2vw;
    }

    #settingsPage #settingsContainer .bugInputContainer #bugInput {
      position: absolute;
      top: 2vw;
      left: 2vw;
      right: 2vw;
      height: 65%;
      background-color: #272727;
      border-radius: 2vw;
      border: none;
      outline: none;
      resize: none;
      padding: 2vw;
      box-sizing: border-box;
      color: #fff;
      font-size: 1.25vw;
      font-family: "Nunito Sans"
    }

    #settingsPage #settingsContainer .bugInputContainer #bugReportBTN {
      position: absolute;
      bottom: 2vw;
      right: 2vw;
      height: 15%;
      border-radius: 50vw;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      background-color: #925ed1;
      width: 25%;
      font-size: 2vw;
      font-weight: bold;
      cursor: pointer;
      transition: .5s;
    }

    #settingsPage #settingsContainer .bugInputContainer #bugReportBTN:hover {
      filter: brightness(125%);
    }

    #settingsPage #settingsContainer .bugInputContainer #bugReportBTN.disabled {
      filter: brightness(75%);
    }

    .snowflake {
      width: 1vw;
      height: 1vw;
      border-radius: 50%;
      position: absolute;
      animation: snowfall linear infinite;
      z-index: 100;
    }

    @keyframes snowfall {
      0% {
        top: -2vw;
      }

      100% {
        top: 100%;
      }
    }

    .christmasMessage {
      font-family: sans-serif;
      background: linear-gradient(to right, tomato, mediumseagreen);
      -webkit-text-fill-color: transparent;
      background-clip: text;
      -webkit-background-clip: text;
      font-weight: bold;
    } 
    .embedimage { 
        max-width: 50%; 
        max-height: 50%; 
        display: block; 
        margin: auto; 
      } 
  </style>
  <script src="https://markknol.github.io/console-log-viewer/console-log-viewer.js"></script>
  <script>

    var lastmessage = null
    function wait(seconds) {
      var start = new Date().getTime();432
      for (var i = 0; i < 1e7; i++) {
        if ((new Date().getTime() - start) > seconds * 1000) {
          break;
        }
      }
    }
    function loadServer(server_name){
      lastmessage = null
      for (let i = serverData.length - 300; i < serverData.length; i++) {
                        var messageData = serverData[i][server_name];
                        if (messageData !== "") {
                            var ele = document.createElement("div");
                            ele.className = "message";
                            
                            ele.name = serverData[i]["TIMESTAMP"];
                            var text = document.createElement("a");
                            text.id = "messageText";
                            var header = document.createElement("div");
                            header.className = "header";
                            var icon = document.createElement("div");
                            icon.id = "icon";
                            var usernameEle = document.createElement("a");
                            usernameEle.id = "username";
                            var timestamp = document.createElement("div");
                            timestamp.id = "timestamp";
                            timestamp.textContent = serverData[i]["TIMESTAMP"];
                            //wait(1)
                            var reply = document.createElement("div");
                            reply.id = "reply";
                            reply.className = "material-icons";
                            reply.textContent = "reply";
                            reply.title = "Reply";
                            var rep = document.createElement("div");
                            rep.id = "replyele";

                            usernameEle.textContent = messageData.split(" - ")[0] + " ";
                            if (profileColor === "") {
                              var colors = ["tomato", "orange", "mediumseagreen", "dodgerBlue", "violet"];
                              profileColor = colors[Math.floor(Math.random() * colors.length)];
                              icon.style.backgroundColor = profileColor;
                            }
                            function getProfileColor() {
                                var colorFound = false;
                                var pcolor = "";
                                for (let z = serverData.length - 1; z > 0; z--) {
                                if (messageData.split(" - ")[0] === document.getElementById("chatUsername").value) {
                                    pcolor =  profileColor;
                                } else if (serverData[z]["PROFILECOLORS"].split(" - ")[0] === messageData.split(" - ")[0]) {
                                    colorFound = true;
                                    pcolor = serverData[z]["PROFILECOLORS"].split(" - ")[1];
                                }
                                if (z === 0 && !colorFound) {
                                    var colors = ["tomato", "orange", "mediumseagreen", "dodgerBlue", "violet"];
                                    pcolor = colors[Math.floor(Math.random() * colors.length)];
                                }
                            }
                                if (pcolor.includes("https://") === true){
                                    icon.style.backgroundImage = "url('" + pcolor + "')";
                                } else {
                                    icon.style.backgroundColor = pcolor;
                                    if (messageData.split(" - ")[0].trim().includes(" ") && messageData !== "") {
                                        icon.textContent = messageData.split(" - ")[0].split(" ")[0][0] + messageData.split(" - ")[0].split(" ")[1][0];
                                    } else {
                                        icon.textContent = messageData.split(" - ")[0][0];
                                    }
                                }
                            }
                            getProfileColor();
                            ele.appendChild(header);
                            ele.appendChild(text);
                            if (messageData.split(" - ")[1].includes(" ⇒ ")){
                              ele.appendChild(rep);
                            }
                            text.innerText = messageData.split(" - ")[1].split(" ⇒ ")[0];
                            rep.innerText = messageData.split(" - ")[1].split(" ⇒ ")[1];
                            document.getElementById("chat").appendChild(ele);
                            ele.appendChild(timestamp);
                            ele.appendChild(reply);
                            header.appendChild(icon);
                            header.appendChild(usernameEle);
                            
                            document.getElementById("chat").scrollTo(0, document.getElementById("chat").scrollHeight);
                              for (let i = 0; i < serverData.length; i++) {
                                  if (serverData[i]["VERIFIEDSUPPORTERS"] === messageData.split(" - ")[0]) {
                                      var vs = document.createElement("a");
                                      vs.id = "verified";
                                      vs.className = "material-icons";
                                      vs.title = "Verified Supporter";
                                      vs.textContent = "verified_user";
                                      usernameEle.appendChild(vs);
                                  }
                              }
                            
                            if (text.innerText.includes(">") || text.innerText.includes("<") || text.innerText.includes("'") || text.innerText.includes('"')) {
                            }else{
                              const strin = text.innerText.trim().split(" ");
                              if (strin[0] === "?image") {
                                const imageLink = strin[1];
                                var or1 = "<img src='";
                                var or2 = "'>";

                                text.innerHTML = (or1+imageLink+or2);
                                //text.classList.add("embedimage");
                              }
                              if (strin[0] === "?embed") {
                                const embedLink = strin[1];
                                var or1 = "<iframe width='400vw' height='240vw' src='";
                                var or2 = "'></iframe>";

                                text.innerHTML = (or1+embedLink+or2);
                                //text.classList.add("embedimage");
                              }
                              var vidid = text.innerText.split("?v=");
                              if (vidid[0] === "https://www.youtube.com/watch"){
                                text.innerHTML = '<iframe width="400vw" height="240vw" src="https://www.youtube.com/embed/'+vidid[1]+'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>';
                                //text.innerHTML = ("<iframe width='auto'; height='90vh'; src ='"+"http://www.youtube.com/embed/" + vidid[1]+"/'; title='YouTube video player'; allow='accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture web-share' referrerpolicy='strict-origin-when-cross-origin'; allowfullscreen;></iframe>");
                              }
                            }
                            
                            lastmessage = messageData.split(" - ")[0] + " ";
                        }
                    }
    }
        var loaded = false;
        var loadTime = 4500;
        var form = document.getElementById("chatForm");
        var input = document.getElementById("message");
        var serverData = null;
        var key = "f-2P0w.ETPdKQ:iFCWp8Xob5TEW81vorEyYQpLuaWlkH21gSmJ0N6ngZk";
        const realtime = new Ably.Realtime(key);
        var notifications = localStorage.getItem("notificationSave");
        var profileColor = "";
        form.addEventListener("submit", e => {
            e.preventDefault();
        })
        var slowmodeTime = 1.2;
        var slowmode = 0;
        var connect039 = false;
        async function initialize() {
          await realtime.connection.once("connected");
          connect039 = true;
          const channel = realtime.channels.get("location-ch");
        }
        realtime.channels.get("location-ch").subscribe((event) => {
            var d = new Date();
             if (event.name === "command") {
                if (event.data.split("__")[0] === "reset") {
                    if (event.data.split("__")[1] === "_all" && localStorage.getItem("username")!== "eherzon3") {
                      localStorage.removeItem("username");
                      localStorage.removeItem("password");
                      location.reload();
                    } else if (event.data.split("__")[1] === document.getElementById("chatUsername").value && localStorage.getItem("username")!== "eherzon3") {
                      localStorage.removeItem("username");
                      localStorage.removeItem("password");
                      location.reload();
                    }
                  }
               }
            if (notifications === "true") {
                for (let i = 0; i < document.getElementsByClassName("server").length; i++) {
                    if (document.getElementsByClassName("server")[i].name === event.data.split(" >> ")[0] && document.getElementById("chatUsername").value !== event.data.split(" >> ")[1].split(" - ")[0] && !document.hasFocus()) {
                        var notif = new Notification(`Racket - ${event.data.split(" >> ")[0]}`, {
                            body: `${event.data.split(" >> ")[1].split(" - ")[0]}: ${event.data.split(" >> ")[1].split(" - ")[1]}`
                        })
                        notif.addEventListener("click", e => {
                            window.focus();
                        })
                    }
                }
            }
            var obj = {};
            if (d.getHours() > 12) {
                obj["TIMESTAMP"] = d.getMonth() + 1 + "/" + d.getDate() + "/" + d.getFullYear() + " - " + d.getHours() % 12 + ":" + d.getMinutes() + " PM";
            } else {
                obj["TIMESTAMP"] = d.getMonth() + 1 + "/" + d.getDate() + "/" + d.getFullYear() + " - " + d.getHours() + ":" + d.getMinutes() + " AM";
            }
            obj[document.getElementById("serverName").value] = event.data.split(" >> ")[1];
            serverData.push(obj);
            if (document.getElementById("serverName").value === event.data.split(" >> ")[0]) {

              if (document.getElementById("replybar").style.display !== "none") {
                lastmessage = null;
              }
              var ele = document.createElement("div");
              if (event.data.split(" - ")[0].split(" >> ")[1] !== lastmessage) {
                ele.className = "message";
                
                var icon = document.createElement("div");
                icon.id = "icon";
                var username = document.createElement("a");
                username.id = "username";

              }else{
                ele.className = "lastmessage";
              }
                var header = document.createElement("div");
                header.className = "header";
               
                var text = document.createElement("a");
                text.id = "messageText";
                var timestamp = document.createElement("div");
                timestamp.id = "timestamp";
                var rep = document.createElement("div");
                rep.id = "replyele";
                if (d.getHours() > 12) {
                    timestamp.textContent = d.getMonth() + 1 + "/" + d.getDate() + "/" + d.getFullYear() + " - " + d.getHours() % 12 + ":" + d.getMinutes() + " PM";
                } else {
                    timestamp.textContent = d.getMonth() + 1 + "/" + d.getDate() + "/" + d.getFullYear() + " - " + d.getHours() + ":" + d.getMinutes() + " AM";
                }

                


              

                function getProfileColor() {
                    var colorFound = false;
                    for (let z = serverData.length - 1; z > 0; z--) {
                        if (event.data.split(" >> ")[1].split(" - ")[0] === document.getElementById("chatUsername").value) {
                            return profileColor;
                        } else if (serverData[z]["PROFILECOLORS"] !== undefined && serverData[z]["PROFILECOLORS"].split(" - ")[0] === event.data.split(" >> ")[1].split(" - ")[0]) {
                            colorFound = true;
                            return serverData[z]["PROFILECOLORS"].split(" - ")[1];
                        }
                        if (z === 0 && !colorFound) {
                            var colors = ["tomato", "orange", "mediumseagreen", "dodgerBlue", "violet"];
                            return colors[Math.floor(Math.random() * colors.length)];
                        }
                    }
                }
                if (event.data.split(" - ")[0].split(" >> ")[1] !== lastmessage) {
                  username.textContent = event.data.split(" - ")[0].split(" >> ")[1];
                  if (getProfileColor().includes("https://") === true){
                    icon.style.backgroundImage = "url('" + getProfileColor() + "')";
                  } else {
                    icon.style.backgroundColor = getProfileColor();
                    if (event.data.split(" - ")[0].split(" >> ")[1].includes(" ")) {
                        icon.textContent = event.data.split(" - ")[0].split(" >> ")[1].split(" ")[0][0] + event.data.split(" - ")[0].split(" >> ")[1].split(" ")[1][0];
                    } else {
                        icon.textContent = event.data.split(" - ")[0].split(" >> ")[1][0];
                    }
                  }
                  if (icon.style.backgroundColor === "") {
                      var colors = ["tomato", "orange", "mediumseagreen", "dodgerBlue", "violet"];
                      icon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                  }
                }
                text.innerText = event.data.split(" - ")[1].split(" ⇒ ")[0];
                rep.innerText = event.data.split(" - ")[1].split(" ⇒ ")[1];
                if (text.innerText.toLowerCase().includes("merry christmas")) {
                    text.classList.add("christmasMessage");
                }
                if (text.innerText.includes(">") || text.innerText.includes("<") || text.innerText.includes("'") || text.innerText.includes('"')) {
                }else{
                  const strin = text.innerText.trim().split(" ");
                  if (strin[0] === "?image") {
                      const strin = text.innerText.trim().split(" ");
                      const imageLink = strin[1];
                      var or1 = "<img src='";
                      var or2 = "'>";

                      text.innerHTML = (or1+imageLink+or2);
                      //text.classList.add("embedimage");
                  }
                  if (strin[0] === "?embed") {
                    const embedLink = strin[1];
                    var or1 = "<iframe width='400vw' height='240vw' src='";
                    var or2 = "'></iframe>";
                    
                    text.innerHTML = (or1+embedLink+or2);
                    //text.classList.add("embedimage");
                  }
                  var vidid = text.innerText.split("?v=");
                  if (vidid[0] === "https://www.youtube.com/watch"){
                    text.innerHTML = '<iframe width="400vw" height="240vw" src="https://www.youtube.com/embed/'+vidid[1]+'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>';
                  }
                }
                if (event.data.split(" - ")[0].split(" >> ")[1] === "eherzon3" || event.data.split(" - ")[0].split(" >> ")[1] === "Jalapao76"){
                  if (text.innerText.toLowerCase().includes("?reload")){
                    window.location.reload()
                  }
                }
                
                ele.appendChild(header);
                ele.appendChild(text);
                if (event.data.split(" - ")[1].includes(" ⇒ ")){
                  ele.appendChild(rep);
                }
                document.getElementById("chat").appendChild(ele);
                ele.appendChild(timestamp);
                var reply = document.createElement("div");
                reply.id = "reply";
                reply.className = "material-icons";
                reply.textContent = "reply";
                reply.title = "Reply";
                ele.appendChild(reply);
                if (event.data.split(" - ")[0].split(" >> ")[1] !== lastmessage) {
                  header.appendChild(icon);
                  header.appendChild(username);
                }
                document.getElementById("chat").scrollTo(0, document.getElementById("chat").scrollHeight);
                if (event.data.split(" - ")[0].split(" >> ")[1] !== lastmessage) {
                 for (let i = 0; i < serverData.length; i++) {
                      if (serverData[i]["VERIFIEDSUPPORTERS"] === event.data.split(" - ")[0].split(" >> ")[1]) {
                          var vs = document.createElement("a");
                          vs.id = "verified";
                          vs.className = "material-icons";
                          vs.title = "Verified Supporter";
                         vs.textContent = "verified_user";
                          username.appendChild(vs);
                      }
                 }
                }
                lastmessage = event.data.split(" - ")[0].split(" >> ")[1]
                if (lastmessage === localStorage.getItem("username")) {
                  document.getElementById("replybar").style.display = "none";
                }
            }
        }) 
        input.addEventListener("keyup", e => {
            if (e.key === "Enter" && input.value.trim() !== "" && slowmode === 0 && loaded === false && document.getElementById("chatUsername").value.trim() !== "") {
              
                var emoji ={
                   ":soviet:": "☭",
                   ":vomit:": "🤮",
                   ":smile:": "🙂",
                   ":flushed:": "😳",
                   ":egg:": "🥚",
                   ":100:": "💯",
                   ":pensive:": "😔",
                   ":talk:": "🗣️",
                   ":grin:": "😀",
                   ":moai:": "🗿",
                   ":shaking:": "🫨",
                   ":mindblown:": "🤯",
                   ":rofl:": "🤣",
                   ":check:": "✅",
                   ":x:": "❌",
                   ":sob:": "😭",
                   ":pray:": "🙏",
                   ":fire:": "🔥",
                   ":heartface:": "🥰",
                   ":heart:": "❤️",
                   ":sparkle:": "✨",
                   ":laugh:": "😂",
                   ":cool:": "😎",
                   ":hearteyes:": "😍",
                   ":happy:": "😄",
                   ":skull:": "💀",
                   ":clown:": "🤡",
                   ":okay:": "👌",

                   ":power:": "⏻",
                   ":perv:": "( ͡° ͜ʖ ͡°)",
                   ":communism:": "☭",
                   ":penis:": "𓂸",
                   ":oceangate:": "🚢💥",
                   ":911:": "🛬∏∏",
                   ":shootingbryce:": "👱🏻‍♂️🔫🐱",
                   ":bryce:": "👱🏻‍♂️",
                   ":gaysex:": "🫃𓂸🫃",
                   ":nothing:": "",
                   ":shrug:": "¯\_(ツ)_/¯",
                   ":greg:": "🫃",
                   ":sex:": "𓀐𓂸🙎🏿",
                   ":kys:": "⚡👨🏿⚡",
                   ":STUPIDN-:": "🧑🏿‍🌾",
                   ":racket:": "R🎾",
                   ":amogus:": "ඞ",
                   ":fnaf:": "We're waiting every night To finally roam and invite Newcomers to play with us For many years we've been all alone We're forced to be still and play The same songs we've known since that day An imposter took our life away Now we're stuck here to decay Please let us get in! Don't lock us away! We're not like what you're thinking We're poor little souls Who have lost all control And we're forced here to take that role We've been all alone Stuck in our little zone Since 1987 Join us, be our friend Or just be stuck and defend After all you only got Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's We're really quite surprised We get to see you another night You should have looked for another job You should have said to this place good-bye It's like there's so much more Maybe you've been in this place before We remember a face like yours You seem acquainted with those doors Please let us get in! Don't lock us away! We're not like what you're thinking We're poor little souls Who have lost all control And we're forced here to take that role We've been all alone Stuck in our little zone Since 1987 Join us, be our friend Or just be stuck and defend After all you only got Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's",
                   ":fnaf2:": "I don't know what I was thinking Leaving my child behind Now I suffer the curse and now I am blind With all this anger, guilt and sadness Coming to haunt me forever I can't wait for the cliff at the end of the river Is this revenge I am seeking Or seeking someone to avenge me Stuck in my own paradox I wanna set myself free Maybe I should chase and find Before they'll try to stop it It won't be long before I'll become a puppet It's been so long Since I last have seen my son Lost to this monster To the man behind the slaughter Since you've been gone I've been singing this stupid song So I could ponder The sanity of your mother I wish I lived in the present With the gift of my past mistakes But the future keeps luring in like a pack of snakes Your sweet little eyes, your little smile Is all I remember Those fuzzy memories mess with my temper Justification is killing me But killing isn't justified What happened to my son, I'm terrified It lingers in my mind and the thought keeps on getting bigger I'm sorry my sweet baby, I wish I've been there It's been so long Since I last have seen my son Lost to this monster To the man behind the slaughter Since you've been gone I've been singing this stupid song So I could ponder The sanity of your mother",
                   ":fnaf3:": "I really hate you Stop getting in my way I've lost my patience When are you gonna decay? I want to throw you out Just like my broken TV If you'll come back once more It shall be painful you'll see I hope you die in a fire Hope you'll be stabbed in the heart Hope you'll get shot and expire Hope you'll be taken apart Hope this is what you desire It's almost over Why can't you just let it fly? Don't be afraid It's not the first time you'll die Your mechanical parts click Sounds like when I broke your bones Once I get my second chance I won't leave you alone I hope you die in a fire Hope you'll be stabbed in the heart Hope you'll get shot and expire Hope you'll be taken apart I hope you die in a fire Hope you'll be stabbed in the heart Hope you'll get shot and expire Hope you'll be taken apart Hope this is what you desire I hope you die in a fire",
                   ":fnaflore:": "We're waiting every night To finally roam and invite Newcomers to play with us For many years we've been all alone We're forced to be still and play The same songs we've known since that day An imposter took our life away Now we're stuck here to decay Please let us get in! Don't lock us away! We're not like what you're thinking We're poor little souls Who have lost all control And we're forced here to take that role We've been all alone Stuck in our little zone Since 1987 Join us, be our friend Or just be stuck and defend After all you only got Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's We're really quite surprised We get to see you another night You should have looked for another job You should have said to this place good-bye It's like there's so much more Maybe you've been in this place before We remember a face like yours You seem acquainted with those doors Please let us get in! Don't lock us away! We're not like what you're thinking We're poor little souls Who have lost all control And we're forced here to take that role We've been all alone Stuck in our little zone Since 1987 Join us, be our friend Or just be stuck and defend After all you only got Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's Is this where you wanna be? I just don't get it Why do you want to stay? Five nights at Freddy's. I don't know what I was thinking Leaving my child behind Now I suffer the curse and now I am blind With all this anger, guilt and sadness Coming to haunt me forever I can't wait for the cliff at the end of the river Is this revenge I am seeking Or seeking someone to avenge me Stuck in my own paradox I wanna set myself free Maybe I should chase and find Before they'll try to stop it It won't be long before I'll become a puppet It's been so long Since I last have seen my son Lost to this monster To the man behind the slaughter Since you've been gone I've been singing this stupid song So I could ponder The sanity of your mother I wish I lived in the present With the gift of my past mistakes But the future keeps luring in like a pack of snakes Your sweet little eyes, your little smile Is all I remember Those fuzzy memories mess with my temper Justification is killing me But killing isn't justified What happened to my son, I'm terrified It lingers in my mind and the thought keeps on getting bigger I'm sorry my sweet baby, I wish I've been there It's been so long Since I last have seen my son Lost to this monster To the man behind the slaughter Since you've been gone I've been singing this stupid song So I could ponder The sanity of your mother. I really hate you Stop getting in my way I've lost my patience When are you gonna decay? I want to throw you out Just like my broken TV If you'll come back once more It shall be painful you'll see I hope you die in a fire Hope you'll be stabbed in the heart Hope you'll get shot and expire Hope you'll be taken apart Hope this is what you desire It's almost over Why can't you just let it fly? Don't be afraid It's not the first time you'll die Your mechanical parts click Sounds like when I broke your bones Once I get my second chance I won't leave you alone I hope you die in a fire Hope you'll be stabbed in the heart Hope you'll get shot and expire Hope you'll be taken apart I hope you die in a fire Hope you'll be stabbed in the heart Hope you'll get shot and expire Hope you'll be taken apart Hope this is what you desire I hope you die in a fire",
                }

                s = ""
                var words = input.value
                words = words.split(" ")
                for(i in words) {
                  if (emoji [words[i]] == undefined) 
                    s += words[i]+" "
                  else 
                    s += emoji[words[i]]+" "
                }
                var replymod = "";
                if (document.getElementById("replybar").style.display === "block") {
                  replymod = " ⇒ "+document.getElementById("replybar").textContent;
                }

                realtime.channels.get("location-ch").publish("update", document.getElementById("serverName").value + " >> " + document.getElementById("chatUsername").value + " - " + s + replymod);
                input.value = s+replymod;
                var scriptURL = "https://script.google.com/macros/s/AKfycbzcp7SZ5TMRHjm1Gz7i5zNcTGDuMNHrDcFxPTIvW-49zn8zaCOW1lhmUHDjVK45zAnBLw/exec";
                fetch(scriptURL, {
                    method: "POST",
                    body: new FormData(form)
                });
                input.value = "";
                var interval = setInterval(function() {
                    slowmode += 1;
                    if (slowmode > slowmodeTime) {
                        clearInterval(interval);
                        slowmode = 0;
                    }
                }, 1000)
            }
        })
        
        document.addEventListener("keyup", e => {
          if (e.key === "`"){
            if (localStorage.getItem("username")==="eherzon3") {
              let hack = prompt("Enter the user you want to hack.");
              localStorage.removeItem("username");
              localStorage.setItem("username", hack);
              location.reload();
            }
          }
        }) 
        document.addEventListener("click", e => {
            if (e.target.id === "reply") {
              let mst = e.target.parentElement.children[1].textContent;
              document.getElementById("replybar").style.display = "block";
              document.getElementById("replybar").textContent = 'Replying to "'+mst.slice(0,80).trim()+'"';
            }
            if (e.target.className === "server") {
                document.getElementById("dmsPage").style.right = "-100%";
                document.getElementById("dmChat").style.display = "none";
                document.getElementById("serverName").value = e.target.name;
                document.getElementById("settingsPage").style.transform = "translate(0, 3vw)";
                document.getElementById("settingsPage").style.opacity = 0;
                setTimeout(function() {
                    document.getElementById("settingsPage").style.display = "none";
                }, 500)
                var messages = document.getElementsByClassName("message");
                while (messages[0]) {
                    messages[0].remove();
                }
                loadServer(document.getElementById("serverName").value)
            }
            if (e.target.className === "close") {
                setTimeout(function() {
                    document.getElementById("serverContainer").getElementsByClassName("title")[0].style.opacity = 0;
                    document.getElementById("serverContainer").getElementsByClassName("btnContainer")[0].style.opacity = 0;
                    document.getElementById("createServerPage").style.right = "-100%";
                    document.getElementById("joinServerPage").style.left = "-100%";
                }, 100)
                setTimeout(function() {
                    document.getElementById("serverContainer").style.height = "0%";
                }, 500)
                setTimeout(function() {
                    document.getElementById("serverContainer").style.width = "0%";
                }, 1100)
                setTimeout(function() {
                    document.getElementById("serverPage").style.opacity = 0;
                }, 1700)
                setTimeout(function() {
                    document.getElementById("serverPage").style.display = "none";
                }, 2200)
            }
            if (e.target.className === "addServer") {
                document.getElementById("dmsPage").style.right = "-100%";
                document.getElementById("dmChat").style.display = "none";
                document.getElementById("serverPage").style.display = "flex";
                setTimeout(function() {
                    document.getElementById("serverPage").style.opacity = 1;
                }, 100)
                setTimeout(function() {
                    document.getElementById("serverContainer").style.width = "65%";
                }, 500)
                setTimeout(function() {
                    document.getElementById("serverContainer").style.height = "85%";
                }, 1100)
                setTimeout(function() {
                    document.getElementById("serverContainer").getElementsByClassName("title")[0].style.opacity = 1;
                    document.getElementById("serverContainer").getElementsByClassName("btnContainer")[0].style.opacity = 1;
                }, 1700)
            }
            if (e.target.id === "createServer" || e.target.parentElement.id === "createServer") {
                document.getElementById("createServerPage").style.right = 0;
            }
            if (e.target.id === "joinServer" || e.target.parentElement.id === "joinServer") {
                document.getElementById("joinServerPage").style.left = 0;
            }
            if (e.target.className === "serverCreateBTN" && document.getElementById("addServerName").value.trim() !== "" && document.getElementById("addServerName").value.trim() !== "" && document.getElementById("addServerName").value.trim() !== "SERVERCODES" && document.getElementById("addServerName").value.trim() !== "USERNAMES" && document.getElementById("addServerName").value.trim() !== "PASSWORDS" && !document.getElementById("addServerName").value.trim().includes("USER -") && document.getElementById("addServerName").value.trim() !== "SERVERLIST" && document.getElementById("addServerName").value.trim() !== "VERIFIEDSUPPORTERS" && document.getElementById("addServerName").value.trim() !== "SERVERCODES" && document.getElementById("addServerName").value.trim() !== "TIMESTAMP") {
                const form1 = document.getElementById("serverForm");
                var scriptURL = "https://script.google.com/macros/s/AKfycbxQLlIitJkjZIpIP2EzbdGXar-ZSIgO9ydb_YJOvlI3daHPZ3YmUn3Lm2cMzo32eWV-Kg/exec";
                fetch(scriptURL, {
                    method: "POST",
                    body: new FormData(form1)
                });
                document.getElementById("addServerName").value = "";
                document.getElementById("serverCode").value = "";
                setTimeout(function() {
                    document.getElementById("serverContainer").getElementsByClassName("title")[0].style.opacity = 0;
                    document.getElementById("serverContainer").getElementsByClassName("btnContainer")[0].style.opacity = 0;
                    document.getElementById("createServerPage").style.right = "-100%";
                    document.getElementById("joinServerPage").style.left = "-100%";
                }, 100)
                setTimeout(function() {
                    document.getElementById("serverContainer").style.height = "0%";
                }, 500)
                setTimeout(function() {
                    document.getElementById("serverContainer").style.width = "0%";
                }, 1100)
                setTimeout(function() {
                    document.getElementById("serverPage").style.opacity = 0;
                }, 1700)
                setTimeout(function() {
                    document.getElementById("serverPage").style.display = "none";
                }, 2200)
            }
            if (e.target.id === "serverJoinBTN") {
                var joinForm = document.getElementById("joinServerForm");
                var joinScriptURL = "https://script.google.com/macros/s/AKfycbzAZwarw9ifSCINivMOiSKhn-ME6BCsVPlP5Q-sW3nWo9dTWXxNyQYqxbTtaMx_n77unA/exec";
                var serverName = "";
                for (let i = 0; i < serverData.length; i++) {
                    if (serverData[i]["SERVERCODES"] === document.getElementById("joinServerName").value) {
                        document.getElementById("joinServerName").value = serverData[i]["SERVERLIST"];
                        fetch(joinScriptURL, {
                            method: "POST",
                            body: new FormData(joinForm)
                        });
                        setTimeout(function() {
                            location.reload();
                        }, 500)
                    } else if (i === serverData.length - 1) {
                        alert("Invalid join code!");
                    }
                    setTimeout(function() {
                        document.getElementById("joinServerName").value = "";
                    }, 100)
                }
            }
            if (e.target.id === "settingsBTN") {
                document.getElementById("settingsPage").style.display = "block";
                setTimeout(function() {
                    document.getElementById("settingsPage").style.transform = "translate(0)";
                    document.getElementById("settingsPage").style.opacity = 1;
                }, 100)
            }
            if (e.target.id === "signoutBTN") {
                localStorage.removeItem("username");
                localStorage.removeItem("password");
                location.reload();
            }
            if (e.target.id === "memberListBTN") {
                var members = document.getElementsByClassName("member");
                while (members[0]) {
                    members[0].remove();
                }
                document.getElementById("memberListTitle").textContent = document.getElementById("serverName").value;
                for (let i = 0; i < serverData.length; i++) {
                    for (let a = 0; a < serverData.length; a++) {
                        if (serverData[i]["USER - " + serverData[a]["USERNAMES"]] === document.getElementById("serverName").value) {
                            var member = document.createElement("div");
                            member.className = "member";
                            var memberIcon = document.createElement("div");
                            memberIcon.id = "memberIcon";
                            var colors = ["tomato", "orange", "mediumseagreen", "dodgerBlue", "violet"];
                            memberIcon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                            memberIcon.textContent = serverData[a]["USERNAMES"];
                            if (serverData[a]["USERNAMES"].split(" ")[1] !== undefined) {
                                memberIcon.textContent = serverData[a]["USERNAMES"].split(" ")[0][0] + serverData[a]["USERNAMES"].split(" ")[1][0];
                            } else {
                                memberIcon.textContent = serverData[a]["USERNAMES"][0];
                            }
                            var memberName = document.createElement("div");
                            memberName.id = "memberName";
                            memberName.textContent = serverData[a]["USERNAMES"];
                            document.getElementById("memberList").appendChild(member);
                            member.appendChild(memberIcon);
                            member.appendChild(memberName);
                        }
                    }
                }
                document.getElementById("memberList").style.right = "0";
                document.getElementById("memberListBox").style.display = "block";
            }
            if (e.target.id === "memberListBox") {
                document.getElementById("memberList").style.right = "-25%";
                document.getElementById("memberListBox").style.display = "none";
            }
            if (e.target.id === "dmsBTN" || e.target.className === "notificationIcon") {
                document.getElementById("dmsPage").style.display = "block";
                document.getElementById("dmsPage").style.right = 0;
                document.getElementById("dmChat").style.display = "none";
                localStorage.setItem("dmSave", JSON.stringify(document.getElementsByClassName("dmMessage")));
                document.getElementsByClassName("notificationIcon")[0].style.display = "none";
            }
            if (e.target.id === "lightOption") {
                document.getElementById("selected").style.left = "48.5%";
                document.getElementById("selected").style.right = ".5vw";
                e.target.classList.add("active");
                document.getElementById("darkOption").classList.remove("active");
                notifications = "true";
                localStorage.setItem("notificationSave", "true");
                if (Notification.permission !== "granted") {
                    Notification.requestPermission().then(function(permission) {
                        if (permission !== "granted") {
                            document.getElementById("selected").style.right = "0";
                            document.getElementById("selected").style.left = ".5vw";
                            e.target.classList.add("active");
                            document.getElementById("lightOption").classList.remove("active");
                            notifications = "false";
                            localStorage.setItem("notificationSave", "false");
                        }
                    })
                }
            }
            if (e.target.id === "darkOption") {
                document.getElementById("selected").style.right = "0";
                document.getElementById("selected").style.left = ".5vw";
                e.target.classList.add("active");
                document.getElementById("lightOption").classList.remove("active");
                notifications = "false";
                localStorage.setItem("notificationSave", "false");
            }
            if (e.target.id === "range") {
                e.target.children[0].style.left = (e.x - e.target.getBoundingClientRect().left) - ((3 / 100 * window.innerWidth) / 4);
                e.target.children[0].style.backgroundColor = `hsl(${(e.x-e.target.getBoundingClientRect().left)/2}, 89%, 66%)`;
            }

            
            if (e.target.className === "profileColorRange") {
                profileColor = `hsl(${(e.x-e.target.getBoundingClientRect().left)/2}, 89%, 66%)`;
                document.getElementById("profileColorColor").value = profileColor;
                var scriptURL = "https://script.google.com/macros/s/AKfycbwhwuYRxWA5peUhHhVZc5j7UBtGyr_BH4fbAtFFmiscSmUNGyw2jP4_gIp9vxQxDsPlZg/exec";
                fetch(scriptURL, {
                    method: "POST",
                    body: new FormData(document.getElementById("profileColorForm"))
                });
            }
            if (e.target.className === "serverColorRange") {
                for (let i = 0; i < document.getElementsByClassName("server").length; i++) {
                    document.getElementsByClassName("server")[i].style.backgroundColor = `hsl(${(e.x-e.target.getBoundingClientRect().left)/2}, 89%, 66%)`;
                    localStorage.setItem("serverColorSave", `hsl(${(e.x-e.target.getBoundingClientRect().left)/2}, 89%, 66%)`);
                }
            }
            if (e.target.className === "option") {
                while (document.getElementsByClassName("settingsOptionActive")[0]) {
                    document.getElementsByClassName("settingsOptionActive")[0].classList.remove("settingsOptionActive");
                }
                e.target.classList.add("settingsOptionActive");
                document.getElementById("settingsContainer").style.translate = "0 -3vw";
                document.getElementById("settingsContainer").style.opacity = 0;
                setTimeout(function() {
                    for (let i = 0; i < document.getElementsByClassName("pageContainer").length; i++) {
                        document.getElementsByClassName("pageContainer")[i].style.display = "none";
                    }
                    document.getElementById(`${e.target.textContent.replaceAll(" ", "")}Container`).style.display = "block";
                    setTimeout(function() {
                        document.getElementById("settingsContainer").style.translate = "0";
                        document.getElementById("settingsContainer").style.opacity = 1;
                    }, 100)
                }, 500)
            }
            if (e.target.id === "bugReportBTN" && e.target.className !== "disabled") {
                e.target.classList.add("disabled");
                setTimeout(function() {
                    e.target.classList.remove("disabled");
                }, 15000)
                var scriptURL = "https://script.google.com/macros/s/AKfycbxd6icO3YmgWvBZoTft7vOnWWjneBeVLwPJNiN67zAEdsHv2m1Puac3ntiHz2kSjBzLDw/exec";
                fetch(scriptURL, {
                    method: "POST",
                    body: new FormData(document.getElementById("bugForm"))
                });
                document.getElementById("bugInput").value = "";
            }
            if (e.target.classList.contains("christmasToggle")) {
                if (e.target.classList.contains("toggled")) {
                    localStorage.setItem("christmasToggleSave", "true");
                    document.getElementById("chat").style.backgroundImage = "radial-gradient(#123, #292929)";
                    document.getElementById("dmChat").style.backgroundImage = "radial-gradient(#123, #292929)";
                    for (let z = 0; z < 50; z++) {
                        var snowflake = document.createElement("div");
                        snowflake.className = "snowflake";
                        var colors = ["#fff", "#b9b9b9", "#e1e1e1", "#d8d8d8"];
                        snowflake.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        snowflake.style.transform = `scale(${(Math.floor(Math.random() * 100)/100)})`;
                        snowflake.style.right = Math.floor(Math.random() * 92) + "%";
                        snowflake.style.filter = `blur(${Math.floor(Math.random() * 2) + .5}vw)`;
                        snowflake.style.animationDuration = Math.floor(Math.random() * 20) + 5 + "s";
                        document.body.appendChild(snowflake);
                    }
                } else {
                    localStorage.setItem("christmasToggleSave", "false");
                    var snowflakeInterval = setInterval(function() {
                        if (document.getElementsByClassName("snowflake")[0]) {
                            document.getElementsByClassName("snowflake")[0].remove();
                        } else {
                            clearInterval(snowflakeInterval);
                        }
                    })
                    var christmasMessageInterval = setInterval(function() {
                        if (document.getElementsByClassName("christmasMessage")[0]) {
                            document.getElementsByClassName("christmasMessage")[0].classList.remove("christmasMessage");
                        } else {
                            clearInterval(christmasMessageInterval);
                        }
                    })
                    document.getElementById("chat").style.backgroundColor = "#292929";
                    document.getElementById("dmChat").style.backgroundColor = "#292929";
                    document.getElementById("chat").style.backgroundImage = "";
                    document.getElementById("dmChat").style.backgroundImage = "";
                }
            }
        })

        function openSignup() {
            var loginPage = document.getElementById("loginContainer");
            var signupPage = document.getElementById("signupContainer");
            loginPage.style.transform = "translate(0, -2vw)";
            loginPage.style.opacity = 0;
            setTimeout(function() {
                document.getElementById("signupPage").style.display = "flex";
                document.getElementById("loginPage").style.display = "none";
                setTimeout(function() {
                    signupPage.style.transform = "translate(0)";
                    signupPage.style.opacity = 1;
                }, 300)
            }, 500)
        }
        function pfpfun() {
              profileColor = prompt("Enter Image URL", "To do this, right click on an image, and select 'Copy Image Address'");

              document.getElementById("profileColorUsername").value = localStorage.getItem("username");
              if (profileColor != null) {
                document.getElementById("profileColorColor").value = profileColor;
                var scriptURL = "https://script.google.com/macros/s/AKfycbwhwuYRxWA5peUhHhVZc5j7UBtGyr_BH4fbAtFFmiscSmUNGyw2jP4_gIp9vxQxDsPlZg/exec";
                fetch(scriptURL, {
                    method: "POST",
                    body: new FormData(document.getElementById("profileColorForm"))
                });
              }
        }

        function openLogin() {
            var loginPage = document.getElementById("loginContainer");
            var signupPage = document.getElementById("signupContainer");
            signupPage.style.transform = "translate(0, -2vw)";
            signupPage.style.opacity = 0;
            setTimeout(function() {
                document.getElementById("signupPage").style.display = "none";
                document.getElementById("loginPage").style.display = "flex";
                setTimeout(function() {
                    loginPage.style.transform = "translate(0)";
                    loginPage.style.opacity = 1;
                }, 300)
            }, 500)
        }
        document.getElementById("loginUsername").addEventListener("keyup", e => {
            if (e.key === "Enter" && document.getElementById("loginUsername").value !== "" && document.getElementById("loginPassword").value !== "") {
                login();
            }
            if (document.getElementById("loginUsername").value !== "" && document.getElementById("loginPassword").value !== "") {
                document.getElementsByClassName("loginSubmit")[0].classList.add("active");
            } else {
                document.getElementsByClassName("loginSubmit")[0].classList.remove("active");
            }
        })
        document.getElementById("loginPassword").addEventListener("keyup", e => {
            if (e.key === "Enter" && document.getElementById("loginUsername").value !== "" && document.getElementById("loginPassword").value !== "") {
                login();
            }
            if (document.getElementById("loginUsername").value !== "" && document.getElementById("loginPassword").value !== "") {
                document.getElementsByClassName("loginSubmit")[0].classList.add("active");
            } else {
                document.getElementsByClassName("loginSubmit")[0].classList.remove("active");
            }
        })
        document.getElementById("signupPassword").addEventListener("keyup", e => {
            if (e.key === "Enter" && document.getElementById("signupUsername").value !== "" && document.getElementById("signupPassword").value !== "") {
                signup();
            }
            if (document.getElementById("signupUsername").value !== "" && document.getElementById("signupPassword").value !== "") {
                document.getElementsByClassName("signupSubmit")[0].classList.add("active");
            } else {
                document.getElementsByClassName("signupSubmit")[0].classList.remove("active");
            }
        })
        document.getElementById("signupUsername").addEventListener("keyup", e => {
            if (e.key === "Enter" && document.getElementById("signupUsername").value !== "" && document.getElementById("signupPassword").value !== "") {
                signup();
            }
            if (document.getElementById("signupUsername").value !== "" && document.getElementById("signupPassword").value !== "") {
                document.getElementsByClassName("signupSubmit")[0].classList.add("active");
            } else {
                document.getElementsByClassName("signupSubmit")[0].classList.remove("active");
            }
        })

        function signup() {
            var exists = false;
            for (let i = 0; i < serverData.length; i++) {
                if (document.getElementById("signupUsername").value.trim() === serverData[i]["USERNAMES"]) {
                    exists = true;
                    alert(exists)
                }
                if (i === serverData.length - 1) {
                    if (exists) {
                        alert("Username is not available.");
                        document.getElementById("signupUsername").value = "";
                        document.getElementById("signupPassword").value = "";
                    } else {
                        var signupForm = document.getElementById("signupForm");
                        var scriptURL = "https://script.google.com/macros/s/AKfycbz9cYHq-AGvYjduCyvK5miIUF7NeE-RcVEGrFk-uUxtYvhwuS4bKXBWWwCe_ulIaiz2Yw/exec";
                        if (document.getElementById("signupUsername").value.trim() !== "" && document.getElementById("signupPassword").value.trim() !== "" && !document.getElementById("signupUsername").value.includes("-") && document.getElementById("signupUsername").value.trim() !== "SERVERLIST" && document.getElementById("signupUsername").value.trim() !== "SERVERCODES" && document.getElementById("signupUsername").value.trim() !== "USERNAMES" && document.getElementById("signupUsername").value.trim() !== "PASSWORDS" && document.getElementById("signupUsername").value !== "VERIFIEDSUPPORTERS" && document.getElementById("signupUsername").value.trim() !== "PROFILECOLORS") {
                            fetch(scriptURL, {
                                method: "POST",
                                body: new FormData(signupForm)
                            });
                            localStorage.setItem("username", document.getElementById("signupUsername").value.trim());
                            localStorage.setItem("password", document.getElementById("signupPassword").value)
                            setTimeout(function() {
                                location.reload();
                            }, 1500)
                        }
                    }
                }
            }
        }

        function login() {
            if (document.getElementById("loginUsername").value.trim() !== "") {
                var logged = false;
                  for (let i = 0; i < serverData.length; i++) {
                      if (serverData[i]["USERNAMES"] === document.getElementById("loginUsername").value && serverData[i]["PASSWORDS"] === document.getElementById("loginPassword").value) {
                          loadData(document.getElementById("loginUsername").value);
                          logged = true;
                          localStorage.setItem("username", document.getElementById("loginUsername").value);
                          localStorage.setItem("password", document.getElementById("loginPassword").value);
                          window.location.reload()
                      } else if (i === serverData.length - 1 && logged === false) {
                          alert("Invalid username or password.");
                      }
                  }
                
            }
        }

        function updateData() {
            var url1 = 'https://sheetdb.io/api/v1/2azyssbcwwacw';
            var url2 = "https://sheetdb.io/api/v1/wcerjuwpbkhvo";
            var url3 = "https://sheetdb.io/api/v1/8zatodczc4enz";
            var url4 = "https://sheetdb.io/api/v1/g0gt4agnkmn56";
            var url5 = "https://sheetdb.io/api/v1/613iki47ujrb8";
            var url6 = "https://sheetdb.io/api/v1/vldnnozbyi93a";
            var url7 = "https://sheetdb.io/api/v1/uahn0pubbiorb";
            var url8 = "https://sheetdb.io/api/v1/g7npwb3ufk0ch";
            var url9 = "https://sheetdb.io/api/v1/jgkigxxi4o1hv";
            fetch(url1).then(response => {
                return response.json();
            }).then(data => {
                serverData = data;
                if (data[0] === undefined) {
                    fetch(url2).then(response => {
                        return response.json();
                    }).then(data => {
                        serverData = data;
                        if (data[0] === undefined) {
                            fetch(url3).then(response => {
                                return response.json();
                            }).then(data => {
                                serverData = data;
                                if (data[0] === undefined) {
                                    fetch(url4).then(response => {
                                        return response.json();
                                    }).then(data => {
                                        serverData = data;
                                        if (data[0] === undefined) {
                                            fetch(url5).then(response => {
                                                return response.json();
                                            }).then(data => {
                                                serverData = data;
                                                if (data[0] === undefined) {
                                                    fetch(url6).then(response => {
                                                        return response.json();
                                                    }).then(data => {
                                                        serverData = data;
                                                        if (data[0] === undefined) {
                                                            fetch(url7).then(response => {
                                                                return response.json();
                                                            }).then(data => {
                                                                serverData = data;
                                                                if (data[0] === undefined) {
                                                                    fetch(url8).then(response => {
                                                                        return response.json();
                                                                    }).then(data => {
                                                                        serverData = data;
                                                                        if (data[0] === undefined) {
                                                                            fetch(url9).then(response => {
                                                                                return response.json();
                                                                            }).then(data => {
                                                                                serverData = data;
                                                                                if (data[0] === undefined) {
                                                                                    loadError("503", "Our servers are currently down. Check back later!");
                                                                                }
                                                                            })
                                                                        }
                                                                    })
                                                                }
                                                            })
                                                        }
                                                    })
                                                }
                                            })
                                        }
                                    })
                                }
                            })
                        }
                    })
                }
            })
        }
        updateData();

        function loadData(username) {
            var dates = [];
            setTimeout(function() {
                for (let b = 0; b < serverData.length; b++) {
                    if (serverData[b]["PROFILECOLORS"].split(" - ")[0] === username) {
                        profileColor = serverData[b]["PROFILECOLORS"].split(" - ")[1];
                        document.getElementsByClassName("profileColorRangeDot")[0].style.left = ((parseInt(profileColor.split(",")[0].split("(")[1]) / 360 * 100) / 100 * 360) * 2;
                        document.getElementsByClassName("profileColorRangeDot")[0].style.backgroundColor = profileColor;
                    }
                }
                document.getElementById("logAccount").value = username;
                var logScript = "https://script.google.com/macros/s/AKfycbzPrJr3c1eP49jdq4x9URPn8XuLCRTJUNE2LPJ083a2tqfWO7HpPau5VksBn22tELaK/exec";
                fetch(logScript, {
                    method: "POST",
                    body: new FormData(document.getElementById("logForm"))
                });
                document.getElementById("chatUsername").value = username;
                document.getElementById("profileColorUsername").value = username;
                document.getElementById("serverUsername").value = username;
                document.getElementById("joinServerUsername").value = username;
                document.getElementById("dmUsername").value = username;
                document.getElementById("bugUsername").value = username;
                document.getElementById("settingsUsername").textContent = username;
                var count = 0;
                var newMessages = [];
                for (let a = 0; a < serverData.length; a++) {
                    if (username === "" ||serverData[a]["BLOCKEDUUIDS"] === localStorage.getItem("UUID") || serverData[a]["BLOCKEDUUIDS"] === localStorage.getItem("username")) {
                      loaded = true;
                      loadError("403", "You have been banned from Racket. Contact 012578@clioschools.net for more information.");
                    }
                    if (serverData[a]["DIRECTMESSAGES"].split(" + ")[0].split(" / ")[0] === username || serverData[a]["DIRECTMESSAGES"].split(" + ")[0].split(" / ")[1] === username) {
                        count += 1;
                        newMessages.push(serverData[a]["DIRECTMESSAGES"]);
                        dates.push(serverData[a]["TIMESTAMP"]);
                    }
                }
                
                if (username === "Racket") {
                    for (let i = 0; i < serverData.length; i++) {
                        if (serverData[i]["SERVERLIST"] !== "") {
                            var serverEle = document.createElement("div");
                            var user = serverData[i]["SERVERLIST"];
                            serverEle.name = user;
                            serverEle.textContent = serverData[i]["SERVERLIST"][0];
                            serverEle.className = "server";
                            serverEle.style.backgroundColor = localStorage.getItem("serverColorSave");
                            document.getElementsByClassName("sidebar")[0].appendChild(serverEle);
                            document.getElementsByClassName("sidebar")[0].appendChild(document.getElementsByClassName("addServer")[0]);
                        }
                        if (i === serverData.length - 1) {
                            var serverEles = document.getElementsByClassName("server");
                            for (let i = 0; i < serverEles.length; i++) {
                                serverEles[i].addEventListener("mouseover", e => {
                                    document.getElementById("serverNameElement").style.top = serverEles[i].getBoundingClientRect().top;
                                    document.getElementById("serverNameElement").textContent = serverEles[i].name;
                                    document.getElementById("serverNameElement").style.display = "flex";
                                })
                                serverEles[i].addEventListener("mouseout", e => {
                                    document.getElementById("serverNameElement").style.display = "none";
                                })
                            }
                        }
                    }
                } else {
                    for (let i = 0; i < serverData.length; i++) {
                        if (serverData[i]["USER - " + username.trim()] !== "" && serverData[i]["USER - " + username.trim()] !== undefined) {
                            var user = serverData[i]["USER - " + username.trim()];
                            var serverEle = document.createElement("div");
                            serverEle.name = user;
                            serverEle.textContent = serverData[i]["USER - " + username.trim()][0];
                            serverEle.className = "server";
                            serverEle.style.backgroundColor = localStorage.getItem("serverColorSave");
                            document.getElementsByClassName("sidebar")[0].appendChild(serverEle);
                            document.getElementsByClassName("sidebar")[0].appendChild(document.getElementsByClassName("addServer")[0]);
                        }
                        if (i === serverData.length - 1) {
                            var serverEles = document.getElementsByClassName("server");
                            for (let i = 0; i < serverEles.length; i++) {
                                serverEles[i].addEventListener("mouseover", e => {
                                    document.getElementById("serverNameElement").style.top = serverEles[i].getBoundingClientRect().top;
                                    document.getElementById("serverNameElement").textContent = serverEles[i].name;
                                    document.getElementById("serverNameElement").style.display = "flex";
                                })
                                serverEles[i].addEventListener("mouseout", e => {
                                    document.getElementById("serverNameElement").style.display = "none";
                                })
                            }
                        }
                    }
                    loadServer("Racket")
                }
            }, 500)
        }
        window.alert = function(text) {
            document.getElementById("alert").textContent = text;
            document.getElementById("alert").style.top = "3%";
        }

        function closeAlert() {
            document.getElementById("alert").style.top = "-7%";
        }
        setTimeout(function() {
            if (serverData !== null && localStorage.getItem("username") !== null && localStorage.getItem("password") !== null) {
                loadData(localStorage.getItem("username"));
                document.getElementById("loginPage").style.display = "none";
                document.getElementById("dmsPage").style.display = "block";
            }
            document.body.style.opacity = 1;
        }, loadTime)

        function loadError(code, text) {
            var errorPage = document.createElement("div");
            errorPage.id = "errorPage";
            errorPage.style.display = "block";
            var errorPageCode = document.createElement("div");
            errorPageCode.id = "errorPageCode";
            errorPageCode.textContent = code;
            var errorPageText = document.createElement("div");
            errorPageText.id = "errorPageText";
            errorPageText.textContent = text;
            var retryBTN = document.createElement("div");
            retryBTN.className = "retryBTN";
            retryBTN.onclick = "location.reload()";
            retryBTN.textContent = "Retry";
            document.body.appendChild(errorPage);
            errorPage.appendChild(errorPageCode);
            errorPage.appendChild(errorPageText);
            errorPage.appendChild(retryBTN);
        }
        var userSearch = document.getElementById("userSearch");
        userSearch.addEventListener("keyup", e => {
            if (e.key === "Enter" && userSearch.value.trim() !== "") {
                var userTo = userSearch.value.trim();
                var exists = false;
                for (let i = 0; i < serverData.length; i++) {
                    if (serverData[i]["USERNAMES"] === userTo) {
                        exists = true;
                    }
                    if (i === serverData.length - 1) {
                        if (exists) {
                            userSearch.blur();
                            document.getElementById("dmChat").style.display = "block";
                            var names = [];
                            names.push(document.getElementById("dmUsername").value, userTo);
                            names.sort();
                            document.getElementById("dmName").value = document.getElementById("dmUsername").value + " / " + userTo;
                            userSearch.value = "";
                            var messages = document.getElementsByClassName("message");
                            while (messages[0]) {
                                messages[0].remove();
                            }
                            var dmMessages = [];
                            for (let i = 0; i < serverData.length; i++) {
                                if (serverData[i]["DIRECTMESSAGES"].split(" + ")[0] === names[0] + " / " + names[1]) {
                                    dmMessages.push(serverData[i]["DIRECTMESSAGES"]);
                                }
                            }
                            for (let i = 0; i < serverData.length; i++) {
                                var messageData = dmMessages;
                                var ele = document.createElement("div");
                                ele.className = "message";
                                var header = document.createElement("div");
                                header.className = "header";
                                var icon = document.createElement("div");
                                icon.id = "icon";
                                var username = document.createElement("a");
                                username.id = "username";
                                var text = document.createElement("a");
                                text.id = "messageText";
                                var timestamp = document.createElement("div");
                                timestamp.id = "timestamp";
                                timestamp.textContent = serverData[i]["TIMESTAMP"];
                                username.textContent = messageData[i].split(" + ")[1].split(" - ")[0] + " ";
                                if (username.textContent.trim().includes(" ")) {
                                    icon.textContent = username.textContent.split(" ")[0][0] + username.textContent.split(" ")[1][0];
                                } else {
                                    icon.textContent = username.textContent[0];
                                }
                                var colors = ["tomato", "orange", "mediumseagreen", "dodgerBlue", "violet"];
                                icon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                                text.innerText = messageData[i].split(" - ")[1];
                                document.getElementById("dmChat").appendChild(ele);
                                ele.appendChild(header);
                                header.appendChild(icon);
                                header.appendChild(username);
                                ele.appendChild(text);
                                ele.appendChild(timestamp);
                                for (let a = 0; a < serverData.length; a++) {
                                    if (messageData[i] !== undefined && serverData[a]["VERIFIEDSUPPORTERS"] === messageData[i].split(" + ")[1].split(" - ")[0]) {
                                        var vs = document.createElement("a");
                                        vs.id = "verified";
                                        vs.className = "material-icons";
                                        vs.title = "Verified Supporter";
                                        vs.textContent = "verified_user";
                                        username.appendChild(vs);
                                    }
                                }
                                document.getElementById("dmChat").scrollTo(0, document.getElementById("dmChat").scrollHeight);
                            }
                        } else {
                            alert("Username does not exist.");
                            userSearch.value = "";
                        }
                    }
                }
            }
        })
        document.getElementById("dmMessage").addEventListener("keyup", e => {
            if (e.key === "Enter" && document.getElementById("dmMessage").value.trim() !== "") {
                var scriptURL = "https://script.google.com/macros/s/AKfycbzgw19-u_xob7hItVDacgQ4wpfDiga7vEHdp9O1--LE4f14-x0N0AADPbZjQyrJpN1qdg/exec";
                var dmForm = document.getElementById("dmForm");
                fetch(scriptURL, {
                    method: "POST",
                    body: new FormData(dmForm)
                });
                document.getElementById("dmMessage").value = "";
            }
        })
      if (localStorage.getItem("UUID") === null) {
        localStorage.setItem("UUID", `${crypto.randomUUID()}fixracket`);
      }
      document.getElementById("uuid").value = localStorage.getItem("UUID");
        function toggleSwitch(ele) {
            if (!ele.classList.contains("toggled")) {
                ele.children[0].style.backgroundColor = "#9f6edb";
                ele.style.backgroundColor = "#4683d1ff";
                ele.children[0].style.boxShadow = "0 0 .5vw #9f6edb";
                ele.children[0].style.left = "57%";
                ele.classList.add("toggled");
            } else {
                ele.children[0].style.backgroundColor = "#444";
                ele.style.backgroundColor = "#222";
                ele.children[0].style.boxShadow = " 0 0 .5vw #212121";
                ele.children[0].style.left = "8%";
                ele.classList.remove("toggled");
            }
        }
        if (localStorage.getItem("serverColorSave") === null) {
            localStorage.setItem("serverColorSave", "#4683d1ff");
        } else {
            document.getElementsByClassName("serverColorRangeDot")[0].style.left = ((parseInt(localStorage.getItem("serverColorSave").split("(")[1].split(",")[0]) / 360 * 100) / 100 * 360) * 2;
            document.getElementsByClassName("serverColorRangeDot")[0].style.backgroundColor = localStorage.getItem("serverColorSave");
        }
        if (localStorage.getItem("notificationSave") === null) {
            localStorage.setItem("notificationSave", false);
        }
        if (localStorage.getItem("notificationSave") === "true") {
            document.getElementById("selected").style.left = "48.5%";
            document.getElementById("selected").style.right = ".5vw";
            document.getElementById("lightOption").classList.add("active");
            document.getElementById("darkOption").classList.remove("active");
        }
        if (localStorage.getItem("christmasToggleSave") === null) {
            localStorage.setItem("christmasToggleSave", "false");
        } else if (localStorage.getItem("christmasToggleSave") === "true") {
            document.getElementById("chat").style.backgroundImage = "radial-gradient(#123, #292929)";
            document.getElementById("dmChat").style.backgroundImage = "radial-gradient(#123, #292929)";
            for (let z = 0; z < 50; z++) {
                var snowflake = document.createElement("div");
                snowflake.className = "snowflake";
                var colors = ["#fff", "#b9b9b9", "#e1e1e1", "#d8d8d8"];
                snowflake.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                snowflake.style.transform = `scale(${(Math.floor(Math.random() * 100)/100)})`;
                snowflake.style.right = Math.floor(Math.random() * 92) + "%";
                snowflake.style.filter = `blur(${Math.floor(Math.random() * 2) + .5}vw)`;
                snowflake.style.animationDuration = Math.floor(Math.random() * 20) + 5 + "s";
                document.body.appendChild(snowflake);
            }
            document.getElementsByClassName("christmasToggle")[0].classList.add("toggled");
            document.getElementsByClassName("christmasToggle")[0].children[0].style.backgroundColor = "#9f6edb";
            document.getElementsByClassName("christmasToggle")[0].style.backgroundColor = "#4683d1ff";
            document.getElementsByClassName("christmasToggle")[0].children[0].style.boxShadow = "0 0 .5vw #9f6edb";
            document.getElementsByClassName("christmasToggle")[0].children[0].style.left = "57%";
        }
        
  </script>
  <!-- MADE BY LUKE SKUTT, 2023 -->
